{"ast":null,"code":"import nextConnect from 'next-connect';\n\nconst models = require('../../../db/models/index');\n\nconst handler = nextConnect().get(async (req, res) => {\n  const {\n    query: {\n      id,\n      name\n    }\n  } = req;\n  const {\n    slug\n  } = req.query;\n  const userId = slug;\n  const user = await models.users.findOne({\n    where: {\n      id: userId\n    },\n    include: [{\n      model: models.posts,\n      as: 'posts'\n    }, {\n      model: models.jobs,\n      as: 'jobs'\n    }]\n  });\n  res.statusCode = 200;\n  return res.json({\n    status: 'success',\n    data: user\n  });\n}).post(async (req, res) => {}).put(async (req, res) => {}).patch(async (req, res) => {});\nexport default handler;","map":{"version":3,"sources":["C:/Users/Mr.X/Desktop/nextjs-sequelize/pages/api/user/[slug].js"],"names":["nextConnect","models","require","handler","get","req","res","query","id","name","slug","userId","user","users","findOne","where","include","model","posts","as","jobs","statusCode","json","status","data","post","put","patch"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,cAAxB;;AACA,MAAMC,MAAM,GAAGC,OAAO,CAAC,0BAAD,CAAtB;;AAEA,MAAMC,OAAO,GAAGH,WAAW,GACxBI,GADa,CACT,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACvB,QAAM;AACJC,IAAAA,KAAK,EAAE;AAAEC,MAAAA,EAAF;AAAMC,MAAAA;AAAN;AADH,MAEFJ,GAFJ;AAGA,QAAM;AAAEK,IAAAA;AAAF,MAAWL,GAAG,CAACE,KAArB;AACA,QAAMI,MAAM,GAAGD,IAAf;AACA,QAAME,IAAI,GAAG,MAAMX,MAAM,CAACY,KAAP,CAAaC,OAAb,CAAqB;AACtCC,IAAAA,KAAK,EAAE;AACLP,MAAAA,EAAE,EAAEG;AADC,KAD+B;AAItCK,IAAAA,OAAO,EAAE,CACP;AACEC,MAAAA,KAAK,EAAEhB,MAAM,CAACiB,KADhB;AAEEC,MAAAA,EAAE,EAAE;AAFN,KADO,EAKP;AACEF,MAAAA,KAAK,EAAEhB,MAAM,CAACmB,IADhB;AAEED,MAAAA,EAAE,EAAE;AAFN,KALO;AAJ6B,GAArB,CAAnB;AAeAb,EAAAA,GAAG,CAACe,UAAJ,GAAiB,GAAjB;AACA,SAAOf,GAAG,CAACgB,IAAJ,CAAS;AAAEC,IAAAA,MAAM,EAAE,SAAV;AAAqBC,IAAAA,IAAI,EAAEZ;AAA3B,GAAT,CAAP;AACD,CAxBa,EAyBba,IAzBa,CAyBR,OAAOpB,GAAP,EAAYC,GAAZ,KAAoB,CAAE,CAzBd,EA0BboB,GA1Ba,CA0BT,OAAOrB,GAAP,EAAYC,GAAZ,KAAoB,CAAE,CA1Bb,EA2BbqB,KA3Ba,CA2BP,OAAOtB,GAAP,EAAYC,GAAZ,KAAoB,CAAE,CA3Bf,CAAhB;AA6BA,eAAeH,OAAf","sourcesContent":["import nextConnect from 'next-connect';\r\nconst models = require('../../../db/models/index');\r\n\r\nconst handler = nextConnect()\r\n  .get(async (req, res) => {\r\n    const {\r\n      query: { id, name },\r\n    } = req;\r\n    const { slug } = req.query;\r\n    const userId = slug;\r\n    const user = await models.users.findOne({\r\n      where: {\r\n        id: userId,\r\n      },\r\n      include: [\r\n        {\r\n          model: models.posts,\r\n          as: 'posts',\r\n        },\r\n        {\r\n          model: models.jobs,\r\n          as: 'jobs',\r\n        },\r\n      ],\r\n    });\r\n    res.statusCode = 200;\r\n    return res.json({ status: 'success', data: user });\r\n  })\r\n  .post(async (req, res) => {})\r\n  .put(async (req, res) => {})\r\n  .patch(async (req, res) => {});\r\n\r\nexport default handler;\r\n"]},"metadata":{},"sourceType":"module"}