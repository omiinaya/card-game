{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mr.X\\\\Desktop\\\\nextjs-sequelize\\\\pages\\\\user\\\\[slug].js\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport Cookies from 'js-cookie';\nimport Link from 'next/link';\nimport Router, { useRouter } from 'next/router';\n/* utils */\n\nimport { absoluteUrl } from '../../middleware/utils';\n/* components */\n\nimport Layout from '../../components/layout/Layout';\n\nfunction User(props) {\n  const router = useRouter();\n  const {\n    origin,\n    referer,\n    user\n  } = props;\n  const {\n    0: titlePage,\n    1: setTitlePage\n  } = useState('Profile');\n  useEffect(() => {\n    switch (router.asPath) {\n      case '/user/logout':\n        Cookies.remove('token');\n        Router.push({\n          pathname: '/',\n          query: {}\n        }, '/');\n        break;\n\n      case '/user/login':\n        setTitlePage('Login');\n        break;\n\n      case '/user/register':\n        setTitlePage('Register');\n        break;\n    }\n  }, []);\n  return __jsx(Layout, {\n    title: `Next.js with Sequelize | User Page - ${titlePage}`,\n    url: `${origin}${router.asPath}`,\n    origin: origin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, __jsx(\"main\", {\n    className: \"content-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, __jsx(Link, {\n    href: {\n      pathname: '/user'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, \"\\u2190 Back\")), user.data && __jsx(React.Fragment, null, __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  }, user.data.firstName || '', \" \", user.data.lastName || '', \" @\", user.data.username), __jsx(\"h3\", {\n    className: \"sub-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 15\n    }\n  }, user.data.email, __jsx(\"small\", {\n    style: {\n      display: 'block',\n      fontWeight: 'normal',\n      marginTop: '.75rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, \"Member since \", user.data.createdAt)), user.data.posts.length > 0 && __jsx(\"div\", {\n    className: \"grid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 19\n    }\n  }, \"Latest Posts\"), user.data.posts.map((post, m) => {\n    return __jsx(Link, {\n      key: m,\n      href: {\n        pathname: `/post/${post.slug}`,\n        query: {}\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 23\n      }\n    }, __jsx(\"a\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    }, __jsx(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 27\n      }\n    }, post.title), __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 27\n      }\n    }, post.createdAt)));\n  })) || __jsx(\"small\", {\n    style: {\n      color: '#999999'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, \"No latest posts\"), user.data.jobs.length > 0 && __jsx(\"div\", {\n    className: \"grid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }\n  }, \"Latest Jobs\"), user.data.jobs.map((job, m) => {\n    return __jsx(Link, {\n      key: m,\n      href: {\n        pathname: `/job/${job.slug}`,\n        query: {}\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 23\n      }\n    }, __jsx(\"a\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 25\n      }\n    }, __jsx(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 27\n      }\n    }, job.title), __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 27\n      }\n    }, __jsx(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 29\n      }\n    }, job.content)), __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 27\n      }\n    }, __jsx(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 29\n      }\n    }, job.reportManager)), __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 27\n      }\n    }, __jsx(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 29\n      }\n    }, job.emailTo)), __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 27\n      }\n    }, __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 29\n      }\n    }, job.createdAt))));\n  })) || __jsx(\"small\", {\n    style: {\n      marginLeft: '.5rem',\n      color: '#999999'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, \"No latest jobs\")))));\n}\n/* getServerSideProps */\n\n\nexport async function getServerSideProps(context) {\n  const {\n    query,\n    req\n  } = context;\n  const {\n    origin\n  } = absoluteUrl(req);\n  const referer = req.headers.referer || '';\n  const baseApiUrl = `${origin}/api`;\n  let user = {};\n\n  if (query.slug !== 'logout') {\n    const userApi = await fetch(`${baseApiUrl}/user/${query.slug}`);\n    user = await userApi.json();\n  }\n\n  return {\n    props: {\n      origin,\n      referer,\n      user\n    }\n  };\n}\nexport default User;","map":{"version":3,"sources":["C:/Users/Mr.X/Desktop/nextjs-sequelize/pages/user/[slug].js"],"names":["React","useEffect","useState","Cookies","Link","Router","useRouter","absoluteUrl","Layout","User","props","router","origin","referer","user","titlePage","setTitlePage","asPath","remove","push","pathname","query","data","firstName","lastName","username","email","display","fontWeight","marginTop","createdAt","posts","length","map","post","m","slug","title","color","jobs","job","content","reportManager","emailTo","marginLeft","getServerSideProps","context","req","headers","baseApiUrl","userApi","fetch","json"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Cookies from 'js-cookie';\r\n\r\nimport Link from 'next/link';\r\nimport Router, { useRouter } from 'next/router';\r\n\r\n/* utils */\r\nimport { absoluteUrl } from '../../middleware/utils';\r\n\r\n/* components */\r\nimport Layout from '../../components/layout/Layout';\r\n\r\nfunction User(props) {\r\n  const router = useRouter();\r\n  const { origin, referer, user } = props;\r\n  const [titlePage, setTitlePage] = useState('Profile');\r\n\r\n  useEffect(() => {\r\n    switch (router.asPath) {\r\n      case '/user/logout':\r\n        Cookies.remove('token');\r\n        Router.push({ pathname: '/', query: {} }, '/');\r\n        break;\r\n      case '/user/login':\r\n        setTitlePage('Login');\r\n        break;\r\n      case '/user/register':\r\n        setTitlePage('Register');\r\n        break;\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Layout\r\n      title={`Next.js with Sequelize | User Page - ${titlePage}`}\r\n      url={`${origin}${router.asPath}`}\r\n      origin={origin}\r\n    >\r\n      <div className=\"container\">\r\n        <main className=\"content-detail\">\r\n          <Link\r\n            href={{\r\n              pathname: '/user',\r\n            }}\r\n          >\r\n            <a>&larr; Back</a>\r\n          </Link>\r\n          {user.data && (\r\n            <>\r\n              <h1>\r\n                {user.data.firstName || ''} {user.data.lastName || ''} @\r\n                {user.data.username}\r\n              </h1>\r\n              <h3 className=\"sub-title\">\r\n                {user.data.email}\r\n                <small\r\n                  style={{\r\n                    display: 'block',\r\n                    fontWeight: 'normal',\r\n                    marginTop: '.75rem',\r\n                  }}\r\n                >\r\n                  Member since {user.data.createdAt}\r\n                </small>\r\n              </h3>\r\n              {(user.data.posts.length > 0 && (\r\n                <div className=\"grid\">\r\n                  <h2>Latest Posts</h2>\r\n                  {user.data.posts.map((post, m) => {\r\n                    return (\r\n                      <Link\r\n                        key={m}\r\n                        href={{\r\n                          pathname: `/post/${post.slug}`,\r\n                          query: {},\r\n                        }}\r\n                      >\r\n                        <a className=\"card\">\r\n                          <h4>{post.title}</h4>\r\n                          <span>{post.createdAt}</span>\r\n                        </a>\r\n                      </Link>\r\n                    );\r\n                  })}\r\n                </div>\r\n              )) || <small style={{ color: '#999999' }}>No latest posts</small>}\r\n              {(user.data.jobs.length > 0 && (\r\n                <div className=\"grid\">\r\n                  <h2>Latest Jobs</h2>\r\n                  {user.data.jobs.map((job, m) => {\r\n                    return (\r\n                      <Link\r\n                        key={m}\r\n                        href={{\r\n                          pathname: `/job/${job.slug}`,\r\n                          query: {},\r\n                        }}\r\n                      >\r\n                        <a className=\"card\">\r\n                          <h4>{job.title}</h4>\r\n                          <span>\r\n                            <small>{job.content}</small>\r\n                          </span>\r\n                          <span>\r\n                            <small>{job.reportManager}</small>\r\n                          </span>\r\n                          <span>\r\n                            <small>{job.emailTo}</small>\r\n                          </span>\r\n                          <span>\r\n                            <span>{job.createdAt}</span>\r\n                          </span>\r\n                        </a>\r\n                      </Link>\r\n                    );\r\n                  })}\r\n                </div>\r\n              )) || (\r\n                <small style={{ marginLeft: '.5rem', color: '#999999' }}>\r\n                  No latest jobs\r\n                </small>\r\n              )}\r\n            </>\r\n          )}\r\n        </main>\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n\r\n/* getServerSideProps */\r\nexport async function getServerSideProps(context) {\r\n  const { query, req } = context;\r\n  const { origin } = absoluteUrl(req);\r\n\r\n  const referer = req.headers.referer || '';\r\n  const baseApiUrl = `${origin}/api`;\r\n\r\n  let user = {};\r\n\r\n  if (query.slug !== 'logout') {\r\n    const userApi = await fetch(`${baseApiUrl}/user/${query.slug}`);\r\n    user = await userApi.json();\r\n  }\r\n\r\n  return {\r\n    props: {\r\n      origin,\r\n      referer,\r\n      user,\r\n    },\r\n  };\r\n}\r\n\r\nexport default User;\r\n"]},"metadata":{},"sourceType":"module"}