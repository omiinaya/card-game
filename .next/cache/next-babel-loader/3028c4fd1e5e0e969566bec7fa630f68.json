{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Nfernal\\\\Desktop\\\\nextjs-sequelize\\\\components\\\\game\\\\Board.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { memo } from 'react';\nimport Field from './Field';\nimport Hand from './Hand';\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nvar PlayerHand = memo(_c = _s(function Container() {\n  _s();\n\n  var _useState = useState([]),\n      onHand = _useState[0],\n      setOnHand = _useState[1];\n\n  var _useState2 = useState([]),\n      onField = _useState2[0],\n      setOnField = _useState2[1];\n\n  var getCards = function getCards() {\n    //if cards have not loaded yet then load them from server.\n    if (onHand.length === 0) {\n      axios.get(\"/api/card\").then(function (res) {\n        setOnHand(res.data.data);\n      });\n    }\n  };\n\n  useEffect(function () {\n    getCards();\n  }, []);\n  useEffect(function () {\n    sortHand();\n    sortField();\n  }, [onHand, onField]);\n\n  var handleCardPlayed = function handleCardPlayed(index) {\n    setOnField(function (prev) {\n      var x = [].concat(_toConsumableArray(prev), [onHand.filter(function (card) {\n        return card.id == index - 1;\n      })[0]]);\n      return x;\n    });\n    setOnHand(function (prev) {\n      return prev.filter(function (card) {\n        return card.id != index - 1;\n      });\n    });\n  };\n\n  var playerAction = function playerAction() {\n    console.log(onField);\n  };\n\n  var sortHand = function sortHand() {\n    var myArray = onHand;\n    myArray.forEach(function (element, index) {\n      element.id = index;\n    });\n    console.log(myArray);\n  };\n\n  var sortField = function sortField() {\n    var myArray = onField;\n    myArray.forEach(function (element, index) {\n      element.id = index;\n    });\n    console.log(myArray);\n  };\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    style: {\n      overflow: 'hidden',\n      clear: 'both'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, __jsx(Field, {\n    cards: onField,\n    playerAction: playerAction,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    style: {\n      overflow: 'hidden',\n      clear: 'both'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, __jsx(Hand, {\n    cards: onHand,\n    playCard: handleCardPlayed,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  })));\n}, \"agQk5dwOCGBmxIU21FCUzTE6Jek=\"));\n_c2 = PlayerHand;\nexport default PlayerHand;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"PlayerHand$memo\");\n$RefreshReg$(_c2, \"PlayerHand\");","map":{"version":3,"sources":["C:/Users/Nfernal/Desktop/nextjs-sequelize/components/game/Board.jsx"],"names":["memo","Field","Hand","axios","useEffect","useState","PlayerHand","Container","onHand","setOnHand","onField","setOnField","getCards","length","get","then","res","data","sortHand","sortField","handleCardPlayed","index","prev","x","filter","card","id","playerAction","console","log","myArray","forEach","element","overflow","clear"],"mappings":"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","sourcesContent":["import { memo } from 'react';\r\nimport Field from './Field';\r\nimport Hand from './Hand';\r\nimport axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst PlayerHand = memo(function Container() {\r\n\r\n    const [onHand, setOnHand] = useState([]);\r\n    const [onField, setOnField] = useState([]);\r\n\r\n    const getCards = () => {\r\n        //if cards have not loaded yet then load them from server.\r\n        if (onHand.length === 0) {\r\n            axios.get(`/api/card`).then((res) => {\r\n                setOnHand(res.data.data);\r\n            });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        getCards();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        sortHand();\r\n        sortField();\r\n    }, [onHand, onField]);\r\n\r\n    const handleCardPlayed = (index) => {     \r\n        setOnField(prev => {\r\n            var x = [...prev, onHand.filter(card => card.id == index - 1)[0]]\r\n            return x\r\n        })\r\n        setOnHand(prev => prev.filter(card => {\r\n            return card.id != index - 1\r\n        }))\r\n    }\r\n\r\n    const playerAction = () => {\r\n        console.log(onField)\r\n    }\r\n\r\n    const sortHand = () => {\r\n        var myArray = onHand\r\n        myArray.forEach(function (element, index) {\r\n            element.id = index;\r\n        });\r\n        console.log(myArray)\r\n    }\r\n\r\n    const sortField = () => {\r\n        var myArray = onField\r\n        myArray.forEach(function (element, index) {\r\n            element.id = index;\r\n        });\r\n        console.log(myArray)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div style={{ overflow: 'hidden', clear: 'both' }}>\r\n                <Field cards={onField} playerAction={playerAction}/>\r\n            </div>\r\n            <div style={{ overflow: 'hidden', clear: 'both' }}>\r\n                <Hand cards={onHand} playCard={handleCardPlayed}/>\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default PlayerHand"]},"metadata":{},"sourceType":"module"}